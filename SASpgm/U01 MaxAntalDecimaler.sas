/*==========================================================================
 Program:      U01 MaxAntalDecimaler.sas
 ---------------------------------------------------------------------------
 Purpose:      
 Precondition: 
 Parameters:   
 In:           
 Out:          
 Usage:        
 Comment:      
 ---------------------------------------------------------------------------               
 Initial code: Anders Kraftling
 Date:         2014-11-18
 ---------------------------------------------------------------------------
 Changes:      2014-xx-xx/ak 
 ==========================================================================*/


/*==========================================================================
 Testdata
 --------------------------------------------------------------------------*/
data indata;
    *format value w 12.3;
    input row $ column $ value w;
    cards;
    100 10 34.2 1.254
    100 10 63.6 1.6

    100 20 14.9 1
    100 20 3.7 1

    100 30 77.1 1.2
    100 30 2.3 8.65

    200 10 45.6 1.4
    200 10 39.1 2.5  

    200 20 98.7 1.9
    200 20 88.7 1.7


    200 30 86.3 1
    200 30 25.9 3.59
    200 30 21.1 5.24

    300 10 55.9 1.89
    300 10 39.1 2.34

    300 20 33.7 1.5
    300 20 77.7 1.8

    300 30 86.3 1
    300 30 9.5 3.98
    300 30 2.8 5.81
run;

/*--------------------------------------------------------------------
Test holding
  <HOLDING>
--------------------------------------------------------------------*/
data indata_hold;
    format value 12.2 w 12.1;
    input row $ column $ value w hold;
   cards;
    100 10 34.2 1.2   100
    100 10 52.1 1.2   100
    100 10 63.6 1.6   200

    100 20 14.9 1.2     100
    100 20 3.1  1.2     100
    100 20 3.7  1.6     200

    100 30 77.1 1.2   100
    100 30 2.3 1.6    200

    200 10 900 1.2    100
    200 10 200 1.6    200
    200 10 100 1.6    200

    200 20 98.7 1.2   100
    200 20 88.7 1.6   200

    200 30 86.3 1.2     100
    200 30 25.9 1.6     200
    200 30 159 1.6      200
run;

proc sort data=indata_hold; by hold row column; run;


/*--------------------------------------------------------------------------
%Variable_Properties(indata)
 --------------------------------------------------------------------------*/


/*==========================================================================
 FREQUENCY TABLE suppressed by the HYBERCUBE METHOD
 --------------------------------------------------------------------------*/
%sas2argus(InData      = indata,
           Explanatory = row column, 
           Response    = value,
           Weight      = w,
           SafetyRule  = FREQ(3,10) WGT(1), 
           Suppress    = GH(1,15,1),  
           Out         = Inter(1), 
           Jobname     = Indata1, 
           RunArgus    = 1,
           SAS         = 2,
           Debug       = 1
)

%open_editor(Indata1.arb)
%open_editor(Indata1.rda)
%open_editor(Indata1.csv)
